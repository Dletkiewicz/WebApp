<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Register form</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='styleRegister.css'>
</head>
<body>

    <div class="container">

        <div class="wrapper">
            <h1>Register your account</h1>

            <form>
                <input type="text" placeholder="Username" name="username">
                <input type="text" placeholder="Password" name="password">
                <input type="text" placeholder="Repeat Password" name="repeat">
                <input type="submit" value="REGISTER">
            </form>
            <p>Already have an account? <a href="login.html"> Log in</a> </p>
            
        </div>

        <script>

            document.addEventListener('submit', handleSubmit);


            function handleSubmit(e){
                e.preventDefault();
                const form = document.querySelector('form');
                console.log(form);

                const inputs = form.querySelectorAll('input[type=text]');
                console.log(inputs);    

                const data = {};

                inputs.forEach(input => {
                    data[input.name] = input.value;
                });

                console.log(data);

                let params = {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data) 
                }

                fetch("http://localhost:8080/user", params)
                .then((data) => console.log(data));
                
            }


        </script>



   
    </div>
</body>
</html>